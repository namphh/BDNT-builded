import{a as H}from"./chunk-HYT3CQ3P.js";import{$ as R,F as _,G as E,H as k,ba as T,ha as M,ja as j,ka as B,ma as U,na as A,o as D,t as G}from"./chunk-3G7OGPR6.js";import{b as V,c as $,d as W,e as q,h as g,k as z,m as J,o as K,v as O}from"./chunk-HQDSJWD4.js";import{a as P}from"./chunk-TDN6OWID.js";import{$a as w,Da as v,E as h,Ia as f,Nb as x,P as C,Sa as o,Sb as b,Ta as e,Ua as m,Wb as F,Xb as L,Y as u,Z as d,bb as S,dc as N,mb as a,na as c,nb as y,oa as l,vb as I}from"./chunk-GEO6TNI5.js";import"./chunk-TMEVGU2Q.js";function Y(s,i){if(s&1&&(o(0,"span",18),a(1),e()),s&2){let Q=S();c(),y(Q.messageLoginResponse)}}var fe=(()=>{let i=class i{constructor(n,t,r){this.router=n,this.sessionService=t,this.http=r,this.signInForm=new q({username:new g(""),password:new g("")}),this.isShowNotify=!1,this.isLoading=!1,this.messageLoginResponse="* ",this.tasks=[],this.APIURL=`${P.server}/`}sso(n,t){let r=`${this.APIURL}login`,p=new FormData;return p.append("username",n),p.append("password",t),this.http.post(r,p).pipe(h(X=>{this.tasks=X.status_code,console.log(this.tasks),this.tasks===201?(this.sessionService.saveData("jwt_token","your_generated_token"),this.router.navigateByUrl("/base/breadcrumbs")):(this.isLoading=!1,this.isShowNotify=!0,this.messageLoginResponse+="Invalid username or password.")}))}login(){this.isLoading=!0,this.isShowNotify=!1,this.messageLoginResponse="* ";let n=this.signInForm.value.username??"",t=this.signInForm.value.password??"";this.sso(n,t).subscribe()}};i.\u0275fac=function(t){return new(t||i)(l(N),l(H),l(F))},i.\u0275cmp=C({type:i,selectors:[["app-login"]],standalone:!0,features:[I],decls:29,vars:2,consts:[[1,"bg-light","min-vh-100","d-flex","flex-row","align-items-center"],[1,"justify-content-center"],["md","4"],[1,"p-4"],["cForm","",3,"submit","formGroup"],[1,"text-medium-emphasis"],[1,"mb-3"],["cInputGroupText",""],["cIcon","","name","cilUser"],["autoComplete","username","cFormControl","","placeholder","Username","formControlName","username"],[1,"mb-4"],["cIcon","","name","cilLockLocked"],["autoComplete","current-password","cFormControl","","placeholder","Password","type","password","formControlName","password"],["style","color: brown;",4,"ngIf"],["xs","6"],["cButton","","color","primary","type","submit",1,"px-4"],["xs","6",1,"text-right"],["cButton","","color","link",1,"px-0"],[2,"color","brown"]],template:function(t,r){t&1&&(o(0,"div",0)(1,"c-container")(2,"c-row",1)(3,"c-col",2)(4,"c-card-group")(5,"c-card",3)(6,"c-card-body")(7,"form",4),w("submit",function(){return r.login()}),o(8,"h1"),a(9,"Login"),e(),o(10,"p",5),a(11,"Sign In to your account"),e(),o(12,"c-input-group",6)(13,"span",7),u(),m(14,"svg",8),e(),d(),m(15,"input",9),e(),o(16,"c-input-group",10)(17,"span",7),u(),m(18,"svg",11),e(),d(),m(19,"input",12),e(),o(20,"div",10),v(21,Y,2,1,"span",13),e(),o(22,"c-row")(23,"c-col",14)(24,"button",15),a(25," Login "),e()(),o(26,"c-col",16)(27,"button",17),a(28," Forgot password? "),e()()()()()()()()()()()),t&2&&(c(7),f("formGroup",r.signInForm),c(14),f("ngIf",r.isShowNotify))},dependencies:[B,A,U,k,_,E,R,T,j,D,M,G,O,z,V,$,W,J,K,b,x,L]});let s=i;return s})();export{fe as LoginComponent};
