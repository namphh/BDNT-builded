import{a as j}from"./chunk-HEC4VNOU.js";import{F as A,G as O,ma as v,na as w}from"./chunk-3G7OGPR6.js";import{c as V,j as I,p as P,q as W,r as D,u as q}from"./chunk-HQDSJWD4.js";import{a as E}from"./chunk-TDN6OWID.js";import{Da as u,E as _,Ia as c,Mb as F,P as y,Sa as t,Sb as x,Ta as i,Wb as L,Xb as S,dc as H,mb as l,n as C,na as o,nb as m,oa as M,rb as h,sb as f,tb as T,vb as b}from"./chunk-GEO6TNI5.js";import"./chunk-TMEVGU2Q.js";function N(n,r){if(n&1&&(t(0,"option",16),l(1),i()),n&2){let d=r.$implicit;c("value",d),o(),m(d)}}function U(n,r){if(n&1&&(t(0,"option",16),l(1),i()),n&2){let d=r.$implicit;c("value",d),o(),m(d)}}function B(n,r){if(n&1&&(t(0,"option",16),l(1),i()),n&2){let d=r.$implicit;c("value",d),o(),m(d)}}function k(n,r){if(n&1&&(t(0,"option",16),l(1),i()),n&2){let d=r.$implicit;c("value",d),o(),m(d)}}function R(n,r){if(n&1&&(t(0,"tr")(1,"td",17),l(2),i(),t(3,"td",17),l(4),i(),t(5,"td",17),l(6),i(),t(7,"td",17),l(8),i()()),n&2){let d=r.$implicit;o(2),m(d.loaiHTML),o(2),m(d.doiTuongHTML),o(2),m(d.doiTuongAnhChup),o(2),m(d.dauViec)}}var le=(()=>{let r=class r{constructor(p,s,e){this.http=p,this.router=s,this.dataService=e,this.tableData=[],this.APIURL=`${E.server}/`,this.update_tab=[],this.selectedFilters={loaiHTML:"",doiTuongHTML:"",doiTuongAnhChup:"",dauViec:""},this.filterOptions={loaiHTML:[],doiTuongHTML:[],doiTuongAnhChup:[],dauViec:[]},this.selectedHeader=""}ngOnInit(){C([this.query_all()]).subscribe(()=>{this.update_table(),this.updateFilterOptions()})}query_all(){return this.http.get(this.APIURL+"query_all_html").pipe(_(p=>{this.update_tab=p.data}))}update_table(){this.update_tab.forEach(p=>{let{html_type:s,html_object:e,object_station_name:g,task_code:a}=p;this.tableData.push({loaiHTML:s,doiTuongHTML:e,doiTuongAnhChup:g,dauViec:a})})}getUniqueValues(p){let s=this.tableData.map(e=>e[p]);return Array.from(new Set(s))}updateFilterOptions(){this.filterOptions={loaiHTML:this.getUniqueValues("loaiHTML"),doiTuongHTML:this.getUniqueValues("doiTuongHTML"),doiTuongAnhChup:this.getUniqueValues("doiTuongAnhChup"),dauViec:this.getUniqueValues("dauViec")},this.selectedFilters[this.selectedHeader]=""}get filteredData(){return this.tableData.filter(p=>(!this.selectedFilters.loaiHTML||p.loaiHTML===this.selectedFilters.loaiHTML)&&(!this.selectedFilters.doiTuongHTML||p.doiTuongHTML===this.selectedFilters.doiTuongHTML)&&(!this.selectedFilters.doiTuongAnhChup||p.doiTuongAnhChup===this.selectedFilters.doiTuongAnhChup)&&(!this.selectedFilters.dauViec||p.dauViec===this.selectedFilters.dauViec))}};r.\u0275fac=function(s){return new(s||r)(M(L),M(H),M(j))},r.\u0275cmp=y({type:r,selectors:[["app-tabs"]],standalone:!0,features:[b],decls:41,vars:9,consts:[[1,"title-container","text-center","mb-4"],[1,"title-text"],["xs","12"],[1,"mb-3"],[1,"table","table-striped"],[2,"width","15%"],[2,"width","28%"],[2,"padding","0","margin-right","10px"],["id","loaiHTML",1,"filter-select",3,"ngModelChange","ngModel"],["value",""],[3,"value",4,"ngFor","ngForOf"],["id","doiTuongHTML",1,"filter-select",3,"ngModelChange","ngModel"],["id","doiTuongAnhChup",1,"filter-select",3,"ngModelChange","ngModel"],[2,"padding","0"],["id","dauViec",1,"filter-select",3,"ngModelChange","ngModel"],[4,"ngFor","ngForOf"],[3,"value"],[2,"white-space","nowrap","overflow","hidden","text-overflow","ellipsis"]],template:function(s,e){s&1&&(t(0,"div",0)(1,"h1",1),l(2,"List of Network Infrastructure"),i()(),t(3,"c-row")(4,"c-col",2)(5,"c-card",3)(6,"c-card-body")(7,"table",4)(8,"thead")(9,"tr")(10,"th",5),l(11,"Infra Type"),i(),t(12,"th",6),l(13,"Infra Object"),i(),t(14,"th",6),l(15,"Object Station Name"),i(),t(16,"th",6),l(17,"Task"),i()(),t(18,"tr")(19,"th",7)(20,"select",8),T("ngModelChange",function(a){return f(e.selectedFilters.loaiHTML,a)||(e.selectedFilters.loaiHTML=a),a}),t(21,"option",9),l(22,"All"),i(),u(23,N,2,2,"option",10),i()(),t(24,"th",7)(25,"select",11),T("ngModelChange",function(a){return f(e.selectedFilters.doiTuongHTML,a)||(e.selectedFilters.doiTuongHTML=a),a}),t(26,"option",9),l(27,"All"),i(),u(28,U,2,2,"option",10),i()(),t(29,"th",7)(30,"select",12),T("ngModelChange",function(a){return f(e.selectedFilters.doiTuongAnhChup,a)||(e.selectedFilters.doiTuongAnhChup=a),a}),t(31,"option",9),l(32,"All"),i(),u(33,B,2,2,"option",10),i()(),t(34,"th",13)(35,"select",14),T("ngModelChange",function(a){return f(e.selectedFilters.dauViec,a)||(e.selectedFilters.dauViec=a),a}),t(36,"option",9),l(37,"All"),i(),u(38,k,2,2,"option",10),i()()()(),t(39,"tbody"),u(40,R,9,4,"tr",15),i()()()()()()),s&2&&(o(20),h("ngModel",e.selectedFilters.loaiHTML),o(3),c("ngForOf",e.filterOptions.loaiHTML),o(2),h("ngModel",e.selectedFilters.doiTuongHTML),o(3),c("ngForOf",e.filterOptions.doiTuongHTML),o(2),h("ngModel",e.selectedFilters.doiTuongAnhChup),o(3),c("ngForOf",e.filterOptions.doiTuongAnhChup),o(2),h("ngModel",e.selectedFilters.dauViec),o(3),c("ngForOf",e.filterOptions.dauViec),o(2),c("ngForOf",e.filteredData))},dependencies:[x,F,q,W,D,P,V,I,O,A,v,w,S],styles:["[_nghost-%COMP%]   .legend[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:x-small}.title-container[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.title-text[_ngcontent-%COMP%]{font-size:2rem;text-align:center;font-weight:700;color:#333}.filter-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px}.filter-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{flex:1;min-width:200px}.filter-select[_ngcontent-%COMP%]{margin-left:5px;width:auto;padding:5px}",`.filter-select[_ngcontent-%COMP%] {
    margin: 5px 0; 
    padding: 0.5rem; 
    border: 1px solid #ced4da; 
    border-radius: 4px; 
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); 
    width: calc(100% - 10px); 
  }
  th[_ngcontent-%COMP%] {
    padding: 0 10px; 
  }`]});let n=r;return n})();export{le as AppTabsComponent};
