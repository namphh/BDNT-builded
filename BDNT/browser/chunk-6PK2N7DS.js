import{b as k,c as D,d as L,g as A,j as R,k as H,s as U,u as j}from"./chunk-HQDSJWD4.js";import{a as q}from"./chunk-TDN6OWID.js";import{$a as E,Da as C,E as S,Ia as b,Mb as W,Nb as x,P as M,Sa as n,Sb as I,Ta as i,W as u,Wb as T,X as c,Xb as N,Ya as v,bb as y,dc as O,lb as V,mb as d,na as l,nb as F,oa as w,ob as P,rb as f,sb as h,tb as _,vb as B}from"./chunk-GEO6TNI5.js";import"./chunk-TMEVGU2Q.js";function G(o,a){if(o&1&&(n(0,"div",16),d(1),i()),o&2){let g=y();l(),P(" ",g.connectionStatus," ")}}function z(o,a){if(o&1&&(n(0,"li",20),d(1),i()),o&2){let g=a.$implicit;l(),F(g)}}function J(o,a){if(o&1&&(n(0,"div",17)(1,"h2"),d(2,"Results:"),i(),n(3,"ul",18),C(4,z,2,1,"li",19),i()()),o&2){let g=y();l(4),b("ngForOf",g.tasks)}}var re=(()=>{let a=class a{constructor(p,s){this.router=p,this.http=s,this.APIURL=`${q.server}/`,this.tasks=[],this.user="",this.password="",this.host="",this.database="",this.connectionStatus=""}query_all(p,s,t,m){let r=new FormData;return r.append("user",p||"isempty"),r.append("password",s||"isempty"),r.append("host",t||"isempty"),r.append("database",m||"isempty"),this.http.post(this.APIURL+"connect_db",r).pipe(S(e=>{this.tasks=e.data||[]}))}submitForm(p){if(p.valid){let{user:s,password:t,host:m,database:r}=p.value;this.query_all(s,t,m,r).subscribe(e=>{e.status===201?(this.connectionStatus="Connection successful",setTimeout(()=>{this.router.navigate(["/dashboard"])},2e3)):this.connectionStatus="Connection failed, please try again"},e=>{this.connectionStatus="An error occurred during connection."})}else console.log("Form is invalid")}};a.\u0275fac=function(s){return new(s||a)(w(O),w(T))},a.\u0275cmp=M({type:a,selectors:[["ng-component"]],standalone:!0,features:[B],decls:25,vars:6,consts:[["form","ngForm"],[1,"container","mt-4"],[1,"mb-4"],[3,"ngSubmit"],[1,"form-group"],["for","user"],["type","text","id","user","name","user","placeholder","Enter User","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","password"],["type","password","id","password","name","password","placeholder","Enter Password","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","host"],["type","text","id","host","name","host","placeholder","Enter Host","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","database"],["type","text","id","database","name","database","placeholder","Enter Database","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit",1,"btn","btn-primary"],["style","color: brown;","class","alert alert-info mt-4",4,"ngIf"],["class","results mt-4",4,"ngIf"],[1,"alert","alert-info","mt-4",2,"color","brown"],[1,"results","mt-4"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"list-group-item"]],template:function(s,t){if(s&1){let m=v();n(0,"div",1)(1,"h1",2),d(2,"Setting database"),i(),n(3,"form",3,0),E("ngSubmit",function(){u(m);let e=V(4);return c(t.submitForm(e))}),n(5,"div",4)(6,"label",5),d(7,"User:"),i(),n(8,"input",6),_("ngModelChange",function(e){return u(m),h(t.user,e)||(t.user=e),c(e)}),i()(),n(9,"div",4)(10,"label",7),d(11,"Password:"),i(),n(12,"input",8),_("ngModelChange",function(e){return u(m),h(t.password,e)||(t.password=e),c(e)}),i()(),n(13,"div",4)(14,"label",9),d(15,"Host:"),i(),n(16,"input",10),_("ngModelChange",function(e){return u(m),h(t.host,e)||(t.host=e),c(e)}),i()(),n(17,"div",4)(18,"label",11),d(19,"Database:"),i(),n(20,"input",12),_("ngModelChange",function(e){return u(m),h(t.database,e)||(t.database=e),c(e)}),i()(),n(21,"button",13),d(22,"Connect database"),i()(),C(23,G,2,1,"div",14)(24,J,5,1,"div",15),i()}s&2&&(l(8),f("ngModel",t.user),l(4),f("ngModel",t.password),l(4),f("ngModel",t.host),l(4),f("ngModel",t.database),l(3),b("ngIf",t.connectionStatus),l(),b("ngIf",t.tasks.length>0))},dependencies:[j,H,k,D,L,U,R,A,x,I,W,N],styles:[".container[_ngcontent-%COMP%]{max-width:600px;margin:auto}.form-group[_ngcontent-%COMP%]{margin-bottom:1.5rem}.btn[_ngcontent-%COMP%]{width:100%}.results[_ngcontent-%COMP%]{margin-top:2rem}.list-group-item[_ngcontent-%COMP%]{background-color:#f8f9fa}"]});let o=a;return o})();export{re as BreadcrumbsComponent};
